<!-- TODO: http://www.practicalecommerce.com/blogs/post/474-Rails-In-Place-Editing-With-Validation-and-Security -->

<h1>Editing account</h1>

<% form_for(@account) do |f| %>
    <%= f.error_messages %>

    <p>
        <%= f.label :name %><br/>
        <%= f.text_field :name %>
    </p>
    <p>
        <%= f.label :description %><br/>
        <%= f.text_area :description, :class => 'editTextArea', :rows => 5 %>
    </p>
    <p>
        <%= f.label :balance %><br/>
        <%= f.text_field :balance %>
    </p>
    <p>
        <%= f.submit "Update" %>
    </p>

    <table class="dataTable">
        <tr class="dataCaption">
            <td>Nom</td>
            <td>Type</td>
            <td>Montant</td>
            <td></td>
        </tr>

        <% for ope in @account.operations %>
            <tr class="<%= cycle('dataRowColor1', 'dataRowColor2') %>">
                <td><%= h ope.title %></td>
                <td><%= h ope.description %></td>
                <td><%= h ope.ope_type %></td>
                <td class="dataCommands"><%= link_to 'Show', ope %>&nbsp;
                    <%= link_to 'Edit', edit_operation_path(ope) %>&nbsp;
                    <%= link_to 'Destroy', ope, :confirm => 'Are you sure?', :method => :delete %></td>
            </tr>
        <% end %>
    </table>

<% end %>

<%= link_to 'Show', @account %> |
<%= link_to 'Back', accounts_path %>
